<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Thu Apr 18 16:32:48 MSK 2024 -->
<title>RedBlackMap</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-04-18">
<meta name="description" content="declaration: package: com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm, class: RedBlackMap">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm</a></div>
<h1 title="Class RedBlackMap" class="title">Class RedBlackMap&lt;K,<wbr>V&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm.RedBlackMap&lt;K,<wbr>V&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>K</code> - the type of key maintained by the <a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm"><code>node</code></a></dd>
<dd><code>V</code> - the type of value maintained by the <a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm"><code>node</code></a></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">RedBlackMap&lt;K,<wbr>V&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Red-Black Map implementation. That's a self-balancing binary search tree
 used in the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeMap.html" title="class or interface in java.util" class="external-link"><code>TreeMap</code></a> as an example.
 <a href=https://ru.wikipedia.org/wiki/Красно-чёрное_дерево>
 Very good wiki-page</a>. The most interesting activities for the tree
 are <a href="#put(K,V)"><code>insertion</code></a> and <a href="#remove(K)"><code>removal</code></a>.
 The properties (balance) can be violated in case of the insertion or removal.
 The balance is achieved through left- or right-rotation of the <a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm"><code>Node</code></a>.
 Decision of the rotation is made according to the color of the nearest nodes.
 
 <P><i>Properties</i><ol>
  <li>Every node is either red or black.</li>
  <li>The root is basically black.</li>
  <li>All leafs are black.</li>
  <li>A red node has only black children (and parent).</li>
  <li>Every path from a given node to any of its descendant leafs
      goes through the same number of black nodes
      (the main property, should be remembered).</li>
 </ol>
 
 <P><i>Left-rotation of a node</i><pre>
    N              R   
   / \            / \  
  L   R    --&gt;   N   RR
     / \        / \    
    RL  RR     L   RL  
 </pre>
 <i>Right-rotation of a node</i><pre>
       N              L    
      / \            / \   
     L   R   --&gt;   LL   N  
    / \                / \ 
  LL   LR            LR   R
 </pre>
 
 <P><i>Structure of the RedBlackMap class</i><pre>
  public class RedBlackMap&lt;K, V&gt; {
  private:
      Node&lt;K, V&gt; root;
      int size;
      final Comparator&lt;K&gt; comp;
  public:
      Constructor(...);
      Node&lt;K, V&gt; getRoot();
      int size();
      Comparator&lt;K&gt; getComparator();
      boolean isEmpty();
      Node&lt;K, V&gt; get(K key);
      void forEach(Consumer&lt;Node&lt;K, V&gt;&gt; consumer);
      boolean put(K key, V value);
      boolean remove(K key);
  }
 </pre></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm"><code>Node</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.util.Comparator)" class="member-name-link">RedBlackMap</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Comparator.html" title="class or interface in java.util" class="external-link">Comparator</a>&lt;<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>&gt;&nbsp;comp)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a new Red-Black Map with the given comparator to compare keys.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#forEach(java.util.function.Consumer)" class="member-name-link">forEach</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;<a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm">Node</a>&lt;<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>,<wbr><a href="RedBlackMap.html" title="type parameter in RedBlackMap">V</a>&gt;&gt;&nbsp;action)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Accepts the <code>action</code> for each <a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm"><code>node</code></a> of the map in ascending order.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm">Node</a><wbr>&lt;<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>,<wbr><a href="RedBlackMap.html" title="type parameter in RedBlackMap">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#get(K)" class="member-name-link">get</a><wbr>(<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>&nbsp;key)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns found <a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm"><code>node</code></a> of the key in this map
 or <code>null</code> if there is no such node.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Comparator.html" title="class or interface in java.util" class="external-link">Comparator</a><wbr>&lt;<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getComparator()" class="member-name-link">getComparator</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns comparator of key in the map.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm">Node</a><wbr>&lt;<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>,<wbr><a href="RedBlackMap.html" title="type parameter in RedBlackMap">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRoot()" class="member-name-link">getRoot</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns root of the map.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isEmpty()" class="member-name-link">isEmpty</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if the map is empty, otherwise <code>false</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RedBlackMap.html" title="type parameter in RedBlackMap">V</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#put(K,V)" class="member-name-link">put</a><wbr>(<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>&nbsp;key,
 <a href="RedBlackMap.html" title="type parameter in RedBlackMap">V</a>&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Inserts a node with the key and value into the map.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RedBlackMap.html" title="type parameter in RedBlackMap">V</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#remove(K)" class="member-name-link">remove</a><wbr>(<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes a node of the key from this map, if there has been any.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#size()" class="member-name-link">size</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns number of nodes of the map.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.util.Comparator)">
<h3>RedBlackMap</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">RedBlackMap</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Comparator.html" title="class or interface in java.util" class="external-link">Comparator</a>&lt;<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>&gt;&nbsp;comp)</span></div>
<div class="block">Creates a new Red-Black Map with the given comparator to compare keys.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>comp</code> - to compare keys</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getRoot()">
<h3>getRoot</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm">Node</a>&lt;<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>,<wbr><a href="RedBlackMap.html" title="type parameter in RedBlackMap">V</a>&gt;</span>&nbsp;<span class="element-name">getRoot</span>()</div>
<div class="block">Returns root of the map.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>root of the map</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="size()">
<h3>size</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">size</span>()</div>
<div class="block">Returns number of nodes of the map.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>number of nodes of the map</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getComparator()">
<h3>getComparator</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Comparator.html" title="class or interface in java.util" class="external-link">Comparator</a>&lt;<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>&gt;</span>&nbsp;<span class="element-name">getComparator</span>()</div>
<div class="block">Returns comparator of key in the map.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>comparator of key in the map</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isEmpty()">
<h3>isEmpty</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isEmpty</span>()</div>
<div class="block">Returns <code>true</code> if the map is empty, otherwise <code>false</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if the map is empty, otherwise <code>false</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="get(K)">
<h3 id="get(java.lang.Object)">get</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm">Node</a>&lt;<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>,<wbr><a href="RedBlackMap.html" title="type parameter in RedBlackMap">V</a>&gt;</span>&nbsp;<span class="element-name">get</span><wbr><span class="parameters">(<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>&nbsp;key)</span></div>
<div class="block">Returns found <a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm"><code>node</code></a> of the key in this map
 or <code>null</code> if there is no such node. Complexity is O(log(n)).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - to found a node</dd>
<dt>Returns:</dt>
<dd>found <a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm"><code>node</code></a> of the key in this map
      or <code>null</code> if there is no such node</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="forEach(java.util.function.Consumer)">
<h3>forEach</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">forEach</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;<a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm">Node</a>&lt;<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>,<wbr><a href="RedBlackMap.html" title="type parameter in RedBlackMap">V</a>&gt;&gt;&nbsp;action)</span></div>
<div class="block">Accepts the <code>action</code> for each <a href="Node.html" title="class in com.github.druyaned.horstmann.corejava.vol1.ch09.src.rbm"><code>node</code></a> of the map in ascending order.
 
 <P><i>Execution</i>:<ol>
  <li>Create stack of nodes to accept the action in a correct order.</li>
  <li>Prepare the stack by going to the minimum during filling the stack.</li>
  <li>Loop<ol>
      <li>Extract the node and accept the action.</li>
      <li>Go to the right child and go to the minimum during filling the stack.</li>
  </ol></li>
 </ol></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>action</code> - to be accepted</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="put(K,V)">
<h3 id="put(java.lang.Object,java.lang.Object)">put</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RedBlackMap.html" title="type parameter in RedBlackMap">V</a></span>&nbsp;<span class="element-name">put</span><wbr><span class="parameters">(<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>&nbsp;key,
 <a href="RedBlackMap.html" title="type parameter in RedBlackMap">V</a>&nbsp;value)</span></div>
<div class="block">Inserts a node with the key and value into the map.
 
 <P>A new node in the Red-Black Map is inserted into place of one of the leafs,
 is colored red and 2 leafs are attached as his children.
 What happens next depends on the color of the nearest nodes.
 <i>Note</i>: a balance case can have a mirror analogue that the code
 takes care of.
 
 <P><i>Illustration Definitions</i><br>
 b - black color;<br>
 r - red color;<br>
 N - current node;<br>
 L - left child of the node;<br>
 R - right child of the node;<br>
 P - parent of the node;<br>
 G - grandpa of the node;<br>
 U - uncle of the node;<br>
 S - sibling of the node;<br>
 SL - left child of the node's sibling;<br>
 SR - right child of the node's sibling;<br>
 * - subtree with at least one black node;<br>
 So 19(P b) means a parent of the current node with a black color and key=19;
 (b) is just a leaf.
 
 <P><i>Insertion Balance Execution Sequence</i><pre>
  if (case1) { return; }
  if (case2) { return; }
  if (case3) { case1(G); }
  else {
      case4;
      case5; // possible root change
      return;
  }
 </pre>
 
 <P><i>Case 1</i><br>
 <b>N</b> is a root. It is colored black to meet the 2nd property.
 And that's it. All other properties are not violated
 (black node can have either red or black children).
 
 <p><i>Case 2</i><br>
 <u>Illustration</u><pre>
       |                           |       
     5(P b)                      8(P b)    
     /    \   [or mirror case]   /    \    
  2(N r)   *                    *    9(N r)
   / \                                / \  
  *   *                              *   * 
 </pre>
 <b>P</b> is black. Nothing should be changed. The property 5
 is not violated cause there wasn't a red node before the insertion,
 and a red node doesn't change the number of black nodes in the subtree.
 <i>Note</i>: in the following cases <b>P</b> is red.
 
 <P><i>Case 3</i><br>
 <u>Illustration</u><pre>
          |                       |        
        7(G b)                  7(G r)     
        /    \                  /    \     
    5(P r)   9(U r)         5(P b)   9(U b)
     /  \     / \    --&gt;     /  \     / \  
  3(N r) *   *   *        3(N r) *   *   * 
   / \                     / \             
  *   *                   *   *            
 </pre>
 <b>G</b> is black (property 4: red node definition), <b>P</b> is red and
 <b>U</b> is red. The property 5 is not violated but the 4th is.
 What is left to do? Recolor <b>G</b>, <b>P</b> and <b>U</b>.
 The number of black nodes in subtrees is not changed. But the structure differs
 so the property 4 can be violated. It's necessary to back to the case 1
 relative to <b>G</b>.
 
 <P><i>Case 4</i><br>
 <u>Illustration</u><pre>
          |                          |         
        7(G b)                     7(G b)      
        /    \                     /    \      
  5(P r)      9(U b)         6(N r)      9(U b)
   /  \        / \    --&gt;     /  \        / \  
  *    6(N r)              5(P r) *            
        / \                 / \                
       *   *               *   *               
 </pre>
 <b>G</b> is black (property 4: red node definition), <b>P</b> is red and
 <b>U</b> is black. The property 5 is not violated but the 4th is.
 Left-rotate <b>P</b> to move forward to the case 5.
 <i>Note</i>: after the rotation the current Node becomes the old Parent.
 
 <P><i>Case 5</i><br>
 <u>Illustration</u><pre>
            |                        |            
          7(G b)                   6(P b)         
          /    \                   /    \         
    6(P r)      9(U b)       5(N r)      7(G r)   
     /  \        / \    --&gt;   /  \        / \     
  5(N r) *                   *    *      *  9(U b)
   / \                                       / \  
  *   *                                           
 </pre>
 The continuation of the case 4.
 Right-rotate <b>G</b>, recolor <b>G</b> and <b>P</b>.
 All the properties are not violated.<br>
 <i>Note</i>: after the rotations the root can be changed.
 
 <P><i>Formulary Explanation of the Trick</i><pre>
  rr(b)b --&gt; r(r)bb --&gt; r(b)rb
 </pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - node's key to be inserted</dd>
<dd><code>value</code> - node's value to be inserted</dd>
<dt>Returns:</dt>
<dd>previous value of the key's node or <code>null</code> if there hasn't been any</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="remove(K)">
<h3 id="remove(java.lang.Object)">remove</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RedBlackMap.html" title="type parameter in RedBlackMap">V</a></span>&nbsp;<span class="element-name">remove</span><wbr><span class="parameters">(<a href="RedBlackMap.html" title="type parameter in RedBlackMap">K</a>&nbsp;key)</span></div>
<div class="block">Removes a node of the key from this map, if there has been any.
 See the illustration definitions in the <a href="#put(K,V)"><code>insertion</code></a>.
 
 <P><i>Main Removal Stages</i>:<ol>
  <li>find the node</li>
  <li>find the limit</li>
  <li>copy limit key and value into the found node</li>
  <li>remove the limit by replacing by its child</li>
  <li>balance cases</li>
 </ol>
 
 <P>After finding the node with the key the limit is being determined -
 the lowest key of the right subtree or the highest in the left subtree.
 The limit has at most one not-leaf-child (otherwise it's not the limit).
 Then the keys and values between the node with the given key and the limit
 are replaced.
 
 <P>Let the limit (min or max) node be <b>M</b> and his not-leaf-child
 or any leaf-child be <b>C</b>. At this moment there could be some simple cases.<br>
 <u>Simple Case 1</u><pre>
     |              |   
   4(M r)          (C b)
    /  \      --&gt;       
  (b)  (C b)            
 </pre>
 If <b>M</b> is red it is replaced by <b>C</b> which can be only a leaf
 (otherwise the 5th or 4th properties are violated for the origin tree).
 All properties are not violated after the replacement, so that's it.<br>
 <u>Simple Case 2</u><pre>
       |              |    
     5(M b)         3(C b) 
      /  \           /  \  
  3(C r) (b)  --&gt;  (b)  (b)
    / \                    
  (b) (b)                  
 </pre>
 If <b>M</b> is black and <b>C</b> is red <b>M</b> is replaced
 by <b>C</b> and is being colored black. All properties are not violated.<br>
 <u>Complicated Case 3</u><pre>
       |           |   
     4(M b)       (C b)
      / \    --&gt;       
  (C b) (b)            
 </pre>
 <b>M</b> and <b>C</b> are black. After replacement by child
 the property 5 is violated. That's why this case produces
 the other 6 balance cases.<br>
 <i>Important Notes</i><ol>
  <li>The children of <b>M</b> are both leafs (otherwise the property 5
      is violated for the origin tree).</li>
  <li>In the following balance cases <b>C</b> (which replaced <b>M</b>)
      is called as <b>N</b>.</li>
  <li>All balance cases are designed to make the tree valid for
      the 5th and all other properties.</li>
  <li>A balance case can have a mirror analogue that the code
      takes is care of.</li>
 </ol>
 
 <P><i>Removal Balance Execution Sequence</i><pre>
  if (case1) { return; };
  if (case2) { case1(P); }
  else {
      case3; // possible root change
      if (case4) { return; }
      case5;
      case6; // possible root change
      return;
  }
 </pre>
 
 <P><i>Removal Balance Formulary Notation</i><pre>
  case2: b(b)bb -&gt; b(b)rb
  case3: b(b)rb* --&gt; [b(r)b*](b)b* --&gt; b(r)b*
  case4: b(r)bb --&gt; b(b)rb
  case5: *r(b)b --&gt; *(b)[*(r)b]
  case6: b(a)[*(b)r*] --&gt; bb(a)b*
 </pre>
 
 <P><i>Case 1</i><br>
 If <b>N</b> is a root all's done.<br>
 
 <P><i>Case 2</i><br>
 <u>Illustration</u><pre>
          |                            |             
        5(P b)                       5(P b)          
        /    \                       /    \          
  2(N b)      8(S b)      --&gt;  2(N b)      8(S r)    
   /  \        / \              /  \         / \     
          (SL b) (SR b)                 (SL b) (SR b)
            / \   / \                     / \   / \  
 </pre>
 <b>N</b>, <b>P</b>, <b>S</b>, <b>SL</b> and <b>SR</b> are black.
 Recolor <b>S</b> and go to the case 1 for <b>P</b>.
 Now the property 5 is not violated for subtree of <b>S</b>.
 But the number of black nodes in the right subtree of <b>P</b>
 was changed, that's why the going to the case 1 is necessary.<br>
 <i>Note</i>: <b>SL</b> and <b>SR</b> don't have keys cause they
 can be leafs.
 
 <P><i>Case 3</i><br>
 <u>Illustration</u><pre>
          |                                 |          
        5(P b)                            8(S b)       
        /    \                            /    \       
  3(N b)      8(S r)                5(P r)      9(SR b)
   /  \        / \        --&gt;        /  \         / \  
         6(SL b) 9(SR b)        3(N b) 6(SL b)   *   * 
           / \     / \            / \    / \           
          *   *   *   *                 *   *          
 </pre>
 <b>N</b>, <b>P</b>, <b>SL</b> and <b>SR</b> are black and <b>S</b> is red.
 Left-rotate <b>P</b>, recolor <b>P</b> and <b>S</b>. Before the rotation
 the property 5 was violated so each of <b>SL</b> and <b>SR</b> had
 at least 1 black child. This case is a preparation for the next changes.<br>
 <i>Important Notes</i><ol>
  <li>The root can be changed.</li>
  <li>The left branch of the <b>P</b> ("256") is at the focus
      in the following cases (imagine its left-rotation).</li>
  <li>Before and after the rotation the right branch of <b>P</b> ("689")
      had and has at least 2 black nodes. The task is to make the left
      branch having the same amount of black nodes (property 5).</li>
 </ol>
 
 <P><i>Case 4</i><br>
 <u>Illustration</u><pre>
          |                            |             
        5(P r)                       5(P b)          
        /    \                       /    \          
  2(N b)      8(S b)      --&gt;  2(N b)      8(S r)    
   /  \        / \              /  \         / \     
          (SL b) (SR b)                 (SL b) (SR b)
           / \     / \                   / \     / \ 
 </pre>
 An another way or a continuance of the case 3 with the updated roles.
 <b>P</b> is red and <b>N</b>, <b>S</b>, <b>SL</b> and <b>SR</b> are black.
 Recolor <b>P</b> and <b>S</b>. The 5th and all other properties are
 not violated. Otherwise go to the case 5.<br>
 
 <P><i>Case 5</i><br>
 <u>Illustration</u><pre>
         |                  |         
       4(S b)            3(SL b)      
       /    \             /    \      
  3(SL r)   (SR b)  --&gt;  *   4(S r)   
     / \     / \              /  \    
    *   *                    *  (SR b)
                                 / \  
 </pre>
 An another continuance of the case 3 and a preparation for the case 6.
 <b>S</b> and <b>SR</b> are black and <b>SL</b> is red.
 Right-rotate <b>S</b>, recolor <b>SL</b> and <b>S</b>.
 
 <P><i>Case 6</i><br>
 <u>Illustration</u><pre>
       |                         |         
      4(P)                      6(S)       
     /    \                    /    \      
  3(N b) 6(S b)             4(P b)  8(SR b)
   / \    / \       --&gt;      /  \     / \  
         * 8(SR r)       3(N b)  *   *   * 
            / \            / \             
           *   *                           
 </pre>
 A continuance of the case 5. <b>P</b> can be red or black,
 <b>N</b> and <b>S</b> are black, <b>SR</b> is red.
 Left-rotate <b>P</b>, recolor <b>S</b> as <b>P</b>,
 recolor <b>P</b> and <b>SR</b> to black.
 So the 5th and all others properties are not violated.<br>
 <i>Note</i>: the root can be changed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - to find the node for removal</dd>
<dt>Returns:</dt>
<dd>value of the removed key's node or <code>null</code> if there hasn't been any</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
